# Messenger - Local Privacy-First Messenger

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä —Å –ª–æ–∫–∞–ª—å–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º –∏ WebRTC –¥–ª—è –∑–≤–æ–Ω–∫–æ–≤.

## üöÄ –§—É–Ω–∫—Ü–∏–∏

- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö (IndexedDB)
- ‚úÖ –î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (TOTP)
- ‚úÖ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π (AES-256)
- ‚úÖ WebRTC –¥–ª—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∏ –≤–∏–¥–µ–æ–∑–≤–æ–Ω–∫–æ–≤
- ‚úÖ PWA - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å - —Å–µ—Ä–≤–µ—Ä —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js** —Å https://nodejs.org/
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É frontend:**
   ```bash
   cd messenger-app/frontend
   ```
3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   npm install
   ```

## üöÄ –ó–∞–ø—É—Å–∫

### Frontend (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
```bash
cd messenger-app/frontend
npm run dev
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:5173

### Backend (—Å–µ—Ä–≤–µ—Ä WebSocket - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
cd messenger-app/backend
npm install
npm run dev
```

–°–µ—Ä–≤–µ—Ä –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:8080

## üåê –î–µ–ø–ª–æ–π –Ω–∞ Vercel + Railway

### –í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ
Vercel –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebSocket-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é. –ü–æ—ç—Ç–æ–º—É –¥–ª—è –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ –≤–∞–º –Ω—É–∂–Ω–æ:

1. –†–∞–∑–º–µ—Å—Ç–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) –Ω–∞ Vercel
2. –†–∞–∑–º–µ—Å—Ç–∏—Ç—å –±—ç–∫–µ–Ω–¥ (WebSocket —Å–µ—Ä–≤–µ—Ä) –Ω–∞ –¥—Ä—É–≥–æ–º —Å–µ—Ä–≤–∏—Å–µ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–º WebSocket (–Ω–∞–ø—Ä–∏–º–µ—Ä, Railway, Render, AWS, DigitalOcean)

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à WebSocket —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –≥–¥–µ-—Ç–æ –ø—É–±–ª–∏—á–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ Railway)
2. –ü–æ–ª—É—á–∏—Ç–µ URL –≤–∞—à–µ–≥–æ WebSocket —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, wss://my-messenger-backend-production.up.railway.app)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Vercel

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç vercel.com –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub
3. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ —É–∫–∞–∂–∏—Ç–µ:
   - Framework Preset: `Create React App` –∏–ª–∏ `Other`
   - Root Directory: `frontend`
   - Build Command: `npm run build`
   - Output Directory: `dist`
4. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - Key: `VITE_WS_SERVER_URL`
   - Value: URL –≤–∞—à–µ–≥–æ WebSocket —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, wss://my-messenger-backend-production.up.railway.app)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Railway –¥–ª—è WebSocket —Å–µ—Ä–≤–µ—Ä–∞

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç railway.app –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
2. –ù–∞–∂–º–∏—Ç–µ "New Project" ‚Üí "Deploy from GitHub repo"
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
   - Build Command: `cd backend && npm install && cd backend && npm run build`
   - Start Command: `cd backend && npm start`
   - Working Directory: `/`
5. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–∞—Å—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é PORT
6. –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø–æ–ª—É—á–∏—Ç–µ Public Domain URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://my-messenger-backend-production.up.railway.app`)
7. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Vercel

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞

Vercel –∏ Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç:
- `npm install` 
- `npm run build` (–∫–æ–º–∞–Ω–¥–∞ –∏–∑ package.json)
- –†–∞–∑–º–µ—â–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
messenger-app/
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/     # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ context/        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/          # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/       # –°–µ—Ä–≤–∏—Å—ã (storage, encryption, WebRTC)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styles/         # CSS —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/          # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx         # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.tsx        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ manifest.json   # Web Manifest –¥–ª—è PWA
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service-worker.js
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.ts
‚îî‚îÄ‚îÄ backend/
    ‚îú‚îÄ‚îÄ src/
    ‚îÇ   ‚îî‚îÄ‚îÄ server.ts       # WebSocket —Å–µ—Ä–≤–µ—Ä
    ‚îú‚îÄ‚îÄ package.json
    ‚îî‚îÄ‚îÄ tsconfig.json
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **TOTP 2FA**: Google Authenticator —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è
- **AES-256**: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- **SHA-256**: –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**: –í—Å–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã: Chrome 51+, Firefox 55+, Safari 15+, Edge 79+
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –±—Ä–∞—É–∑–µ—Ä–æ–º)
4. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

## üèóÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Frontend**: React 18, TypeScript, Vite
- **–°—Ç–∏–ª—å**: CSS3 (Mobile responsive)
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ**: IndexedDB
- **–†–µ–∞–ª-—Ç–∞–π–º**: WebSocket + WebRTC
- **–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è**: crypto-js
- **Backend**: Node.js, Express, ws

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
